
# **üìå ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå: EC2 Spot Instance ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏Ñ‡∏∑‡∏ô (Interrupt) ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ Private IP ‡πÄ‡∏î‡∏¥‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏Å‡∏©‡∏≤ EBS ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î**

---

## **üí° ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏°‡∏°‡∏ï‡∏¥**

- **EC2 Spot Instance (Windows Server) ‡πÉ‡∏ä‡πâ Private Subnet ‡πÑ‡∏°‡πà‡∏°‡∏µ Public IP**
- **Instance ‡∏ô‡∏µ‡πâ Join ‡∏Å‡∏±‡∏ö DNS Windows (Active Directory ‡∏´‡∏£‡∏∑‡∏≠ Custom DNS)**
- **EC2 ‡πÉ‡∏ä‡πâ EBS ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß:**
    - **EBS Root Volume** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö OS ‡πÅ‡∏•‡∏∞ Configuration (`C:\`)
    - **EBS Secondary Volume** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à (`D:\`)
- **‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ:**
    - Private IP ‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (DNS Windows ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ)
    - ‡∏´‡∏≤‡∏Å Instance ‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏Ñ‡∏∑‡∏ô ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    - EBS ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡πÅ‡∏ô‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

---

## **üöÄ ‡πÄ‡∏°‡∏∑‡πà‡∏≠ AWS ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏∑‡∏ô (Interrupt) Spot Instance**

AWS ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Interruption ‡πÑ‡∏î‡πâ 3 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà **Stop**, **Hibernate**, ‡πÅ‡∏•‡∏∞ **Terminate**  
‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ **Private IP, RAM, ‡πÅ‡∏•‡∏∞ EBS** ‡∏à‡∏∞‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏õ

| **Interruption Type** | **EBS Root (OS)** | **EBS Secondary (Data)** | **RAM ‡∏´‡∏≤‡∏¢‡πÑ‡∏´‡∏°?** | **Private IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏´‡∏°?** | **‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏´‡∏°?** |
|----------------------|------------------|------------------|----------------|-----------------|-----------------|
| **Stop (‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß)** | ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà | ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà | ‚úÖ ‡∏´‡∏≤‡∏¢ | ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô | ‚ùå ‡∏ï‡πâ‡∏≠‡∏á Start ‡πÄ‡∏≠‡∏á |
| **Hibernate (‡∏à‡∏≥‡∏®‡∏µ‡∏•)** | ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà | ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà | ‚ùå ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢ | ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô | ‚úÖ ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏≠‡∏á |
| **Terminate (‡∏•‡∏ö‡∏ó‡∏¥‡πâ‡∏á)** | ‚úÖ ‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏•‡∏ö (‡∏ñ‡πâ‡∏≤ `DeleteOnTermination=true`) | ‚úÖ ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà (‡∏ñ‡πâ‡∏≤ `DeleteOnTermination=false`) | ‚úÖ ‡∏´‡∏≤‡∏¢ | ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô | ‚úÖ ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Auto Scaling |

---

## **‚úÖ ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 1: AWS ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏∑‡∏ô (Interrupt) EC2 Spot Instance ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Stop**

### **üîπ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô**
1. **Instance ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î (Stop)**
2. **EBS Root ‡πÅ‡∏•‡∏∞ Secondary Volume ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà**
3. **RAM ‡πÅ‡∏•‡∏∞ Session ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏≤‡∏¢**
4. **Private IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô**
5. **‡∏ï‡πâ‡∏≠‡∏á Start Instance ‡πÄ‡∏≠‡∏á (AWS ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)**

### **üîπ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ Instance ‡πÑ‡∏î‡πâ Private IP ‡πÄ‡∏î‡∏¥‡∏°**
üìå **‡πÉ‡∏ä‡πâ Elastic Network Interface (ENI) ‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≠‡∏á Private IP**
```bash
aws ec2 create-network-interface --subnet-id subnet-xxxxxxxx --private-ip-address 10.0.1.100
```
```bash
aws ec2 attach-network-interface --network-interface-id eni-xxxxxxxx --instance-id i-xxxxxxxx
```
```bash
aws ec2 start-instances --instance-ids i-xxxxxxxx
```
‚úÖ **EBS ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢**  
‚úÖ **Windows AD ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á Re-Join DNS**  
‚ùå **‡∏ï‡πâ‡∏≠‡∏á Attach ENI ‡πÄ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà Start ‡πÉ‡∏´‡∏°‡πà**  
‚ùå **Private IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ ENI**  

---

## **‚úÖ ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 2: AWS ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏∑‡∏ô (Interrupt) EC2 Spot Instance ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Hibernate**
### **üîπ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô**
1. **Instance ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö Hibernate**
2. **EBS (Root + Secondary) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà ‡πÅ‡∏•‡∏∞ RAM ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà**
3. **Windows ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Reboot ‡πÉ‡∏´‡∏°‡πà**
4. **Private IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô (‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ ENI)**
5. **DNS ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Private IP ‡πÉ‡∏´‡∏°‡πà**

### **üîπ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ Windows AD & DNS ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ**
üìå **‡πÉ‡∏ä‡πâ ENI ‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á Private IP ‡πÄ‡∏î‡∏¥‡∏°**
```bash
aws ec2 create-network-interface --subnet-id subnet-xxxxxxxx --private-ip-address 10.0.1.100
```
```bash
aws ec2 attach-network-interface --network-interface-id eni-xxxxxxxx --instance-id i-xxxxxxxx
```
```bash
aws ec2 describe-network-interfaces --network-interface-id eni-xxxxxxxx
```

‚úÖ **RAM ‡πÅ‡∏•‡∏∞ Process ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢ ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢**  
‚úÖ **Windows AD ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Re-Join**  
‚úÖ **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Private IP ‡πÄ‡∏î‡∏¥‡∏°‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ ENI**  
‚ùå **‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏≤‡∏á Instance Types ‡πÄ‡∏ä‡πà‡∏ô t3.medium, m5.large ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**  

---

## **‚úÖ ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 3: AWS ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏∑‡∏ô (Interrupt) EC2 Spot Instance ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Terminate**
### **üîπ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô**
1. **AWS ‡∏•‡∏ö EC2 Spot Instance ‡∏ó‡∏¥‡πâ‡∏á**
2. **EBS Root ‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏•‡∏ö (‡∏ñ‡πâ‡∏≤ `DeleteOnTermination=true`)**
3. **EBS Secondary ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà (‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `DeleteOnTermination=false`)**
4. **Private IP ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô**
5. **Windows AD ‡∏ï‡πâ‡∏≠‡∏á Re-Join ‡πÉ‡∏´‡∏°‡πà**
6. **‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞ Attach EBS + ENI ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏≠‡∏á**

### **üîπ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**
üìå **‡πÉ‡∏ä‡πâ Auto Scaling Group (ASG) + Launch Template + ENI**
```bash
aws autoscaling create-auto-scaling-group   --auto-scaling-group-name my-spot-asg   --launch-template LaunchTemplateId=lt-xxxxxxxxxxxxx,Version=$Latest   --min-size 1 --max-size 3 --desired-capacity 1   --vpc-zone-identifier "subnet-xxxxxxxx"
```
```bash
aws ec2 create-network-interface --subnet-id subnet-xxxxxxxx --private-ip-address 10.0.1.100
aws ec2 attach-network-interface --network-interface-id eni-xxxxxxxx --instance-id i-yyyyyyyy
```

‚úÖ **‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Spot Instance ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö**  
‚úÖ **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Private IP ‡πÄ‡∏î‡∏¥‡∏°‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ ENI**  
‚ùå **‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ Instance ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤**  
‚ùå **Windows AD ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á Re-Join**  

---

## **üìå ‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏±‡∏Å Event ‡∏Å‡∏≤‡∏£ Interrupt ‡∏Ç‡∏≠‡∏á Spot Instance ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á Email**
| **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô** | **‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ** | **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå** |
|------------|------------------|------------|
| 1Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á SNS Topic | **AWS SNS** | ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô Notification Hub ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á Email |
| 2Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á EventBridge Rule | **AWS EventBridge** | ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö `"EC2 Spot Instance Interruption Warning"` |
| 3Ô∏è‚É£ ‡∏ú‡∏π‡∏Å SNS ‡∏Å‡∏±‡∏ö EventBridge | **AWS EventBridge + SNS** | ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Spot Instance Interrupt ‚Üí ‡∏™‡πà‡∏á Email ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ |
| 4Ô∏è‚É£ (Optional) ‡πÉ‡∏ä‡πâ Lambda | **AWS Lambda** | ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á Email |

‚úÖ **‡πÄ‡∏°‡∏∑‡πà‡∏≠ AWS Interruption (Stop, Hibernate, Terminate) Spot Instance ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á Email ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ!** üöÄ
